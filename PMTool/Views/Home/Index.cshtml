@{
    ViewBag.Title = "Home Page";
}

@*<div class="pagetitle">
    <h1>Dashboard</h1>
    <span>This is a sample description for dashboard page...</span>
</div>*@
<!--pagetitle-->

<div class="maincontent">
    <div class="contentinner content-dashboard">
        <div class="">
            @*<h4 style="text-align: center !important;">Task Assigned to you</h4>

            <h5><u>Overdue Tasks</u></h5>
            <table class="table table-bordered" id="dyntable">
                @{
                    @Html.Partial("_TaskList", (List<PMTool.Models.Task>)ViewBag.OverdueTask)
                }
            </table>
            
            <div>
                <h5><u>Due Tasks</u></h5>
                <table class="table table-bordered dyntable" id="dyntable5">
                    @{
                        @Html.Partial("_TaskList", (List<PMTool.Models.Task>)ViewBag.DueTask)
                    }
                </table>
            </div>

            <div>
                <h5><u>Today's Task</u></h5>
                <table class="table table-bordered dyntable" id="dyntable1">
                    @{
                        @Html.Partial("_TaskList", (List<PMTool.Models.Task>)ViewBag.TodaysTask)
                    }
                </table>
            </div>
            <div>
                <h5><u>Due Tomorrow Task</u></h5>
                <table class="table table-bordered dyntable" id="dyntable2">
                    @{
                        @Html.Partial("_TaskList", (List<PMTool.Models.Task>)ViewBag.DueTomorrowTask)
                    }
                </table>
            </div>

            <div>
                <h5><u>Future Task</u></h5>
                <table class="table table-bordered dyntable" id="dyntable3">
                    @{
                        @Html.Partial("_TaskList", (List<PMTool.Models.Task>)ViewBag.FutureTask)
                    }
                </table>
            </div>*@
            <table class="table table-bordered dyntable">
                <thead>
                    <tr>
                        <th>Group By
                        </th>
                        <th>Task Title
                        </th>
                        <th>Project Name
                        </th>

                        <th>Start Date</th>
                        <th>End Date</th>
                        <th>Status</th>
                        <th>Sub Tasks
                        </th>

                        <th>Created by</th>

                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    @{
                        List<PMTool.Models.Task> dueTaskList =  (List<PMTool.Models.Task>)ViewBag.DueTask;
                        List<PMTool.Models.Task> overdueTaskList = (List<PMTool.Models.Task>)ViewBag.OverdueTask;
                        List<PMTool.Models.Task> todaysTaskList = (List<PMTool.Models.Task>)ViewBag.TodaysTask;
                        List<PMTool.Models.Task> dueTomorrowTaskList = (List<PMTool.Models.Task>)ViewBag.DueTomorrowTask;
                        List<PMTool.Models.Task> futureTaskList = (List<PMTool.Models.Task>)ViewBag.FutureTask;
                        
                        if (overdueTaskList.Count>0)
                        {
                            overdueTaskList.ForEach(a=>a.GroupBy="Overdue Tasks");
                            @Html.Partial("_TaskList",overdueTaskList)
                        }
                       
                        
                        
                        if (dueTaskList.Count > 0)
                        {
                            dueTaskList.ForEach(a=>a.GroupBy = "Due Tasks");
                            @Html.Partial("_TaskList",dueTaskList)
                        }
                        
                        
                        
                        if (todaysTaskList.Count > 0)
                        {
                            todaysTaskList.ForEach(a=>a.GroupBy = "Today's Tasks");
                            @Html.Partial("_TaskList",todaysTaskList)
                        }
                        
                        
                        
                        if (dueTomorrowTaskList.Count > 0)
                        {
                            dueTomorrowTaskList.ForEach(a=>a.GroupBy = "Due Tomorrow Tasks");
                            @Html.Partial("_TaskList",dueTomorrowTaskList)
                        }
                        
                        
                        
                        if (futureTaskList.Count > 0)
                        {
                            futureTaskList.ForEach(a=>a.GroupBy = "Future Tasks");
                            @Html.Partial("_TaskList",futureTaskList)
                        }
                        
                     }
                </tbody>
            </table>
        </div>
        
    </div>
    <!--row-fluid-->
</div>
<!--contentinner-->

<!--maincontent-->
